<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"="width=device-width, initial-scale=1.0">
    <title>Calculadora de Penas - Brasil√¢ndia RP</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gradient-to-br from-black via-red-900 to-gray-900 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-8">
            <!-- Main Header Card -->
            <div class="bg-gradient-to-br from-yellow-300 via-yellow-400 to-yellow-600 text-black py-8 px-10 rounded-3xl shadow-2xl border-4 border-yellow-500 mb-6 relative overflow-hidden transform hover:scale-[1.01] transition-all duration-300">
                <!-- Animated Background Pattern -->
                <div class="absolute inset-0 opacity-15">
                    <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-br from-black/30 via-transparent to-red-900/20"></div>
                    <div class="absolute top-4 right-4 w-32 h-32 bg-gradient-to-br from-white/10 to-transparent rounded-full blur-xl"></div>
                    <div class="absolute bottom-4 left-4 w-24 h-24 bg-gradient-to-br from-white/10 to-transparent rounded-full blur-xl"></div>
                </div>
                
                <!-- Decorative Border -->
                <div class="absolute inset-2 border-2 border-yellow-600/30 rounded-2xl"></div>
                
                <!-- Content -->
                <div class="relative z-10">
                    <!-- Top Section with Logos -->
                    <div class="flex items-center justify-center space-x-12 mb-6">
                        <div class="relative group">
                            <div class="absolute -inset-2 bg-gradient-to-r from-yellow-600 to-yellow-500 rounded-xl blur opacity-30 group-hover:opacity-50 transition-opacity"></div>
                            <img src="https://i.imgur.com/duLSu8w.png" alt="Minist√©rio P√∫blico" class="relative h-20 w-auto drop-shadow-2xl transform group-hover:scale-105 transition-transform">
                        </div>
                        
                        <div class="text-center">
                            <div class="mb-3">
                                <h1 class="text-5xl font-black mb-2 bg-gradient-to-r from-black via-gray-800 to-black bg-clip-text text-transparent drop-shadow-lg">
                                    TRIBUNAL DE JUSTI√áA
                                </h1>
                                <div class="flex justify-center items-center space-x-2 mb-2">
                                    <div class="w-16 h-1 bg-gradient-to-r from-transparent via-black/40 to-transparent rounded-full"></div>
                                    <div class="w-3 h-3 bg-black/30 rounded-full"></div>
                                    <div class="w-16 h-1 bg-gradient-to-r from-transparent via-black/40 to-transparent rounded-full"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="relative group">
                            <div class="absolute -inset-2 bg-gradient-to-r from-yellow-600 to-yellow-500 rounded-xl blur opacity-30 group-hover:opacity-50 transition-opacity"></div>
                            <img src="https://i.imgur.com/0nl9DgQ.png" alt="Brasil√¢ndia" class="relative h-20 w-auto drop-shadow-2xl transform group-hover:scale-105 transition-transform">
                        </div>
                    </div>
                    
                    <!-- Main Title Section -->
                    <div class="mb-4">
                        <h2 class="text-3xl font-black mb-3 bg-gradient-to-r from-red-800 via-red-700 to-red-800 bg-clip-text text-transparent drop-shadow-lg">
                            ‚öñÔ∏è CALCULADORA DE PENAS ‚öñÔ∏è
                        </h2>
                        <div class="bg-gradient-to-r from-transparent via-black/20 to-transparent h-px w-64 mx-auto mb-3"></div>
                        <p class="text-xl font-bold text-gray-800 drop-shadow-sm">
                            Comarca de Brasil√¢ndia - Estado de S√£o Paulo
                        </p>
                    </div>
                    
                    <!-- Badge Section -->
                    <div class="flex justify-center items-center space-x-6 mt-4">
                        <div class="bg-gradient-to-r from-black/20 to-black/30 backdrop-blur-sm px-4 py-2 rounded-full border border-black/20 shadow-lg">
                            <span class="text-sm font-bold text-gray-800 flex items-center">
                                <span class="w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"></span>
                                Sistema Oficial
                            </span>
                        </div>
                        <div class="bg-gradient-to-r from-red-800/20 to-red-900/30 backdrop-blur-sm px-4 py-2 rounded-full border border-red-800/30 shadow-lg">
                            <span class="text-sm font-bold text-gray-800">üèõÔ∏è Poder Judici√°rio</span>
                        </div>
                        <div class="bg-gradient-to-r from-blue-800/20 to-blue-900/30 backdrop-blur-sm px-4 py-2 rounded-full border border-blue-800/30 shadow-lg">
                            <span class="text-sm font-bold text-gray-800">üìã Vers√£o 2025.1</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Enhanced Status Bar -->
            <div class="bg-gradient-to-r from-red-900/60 via-black/50 to-red-900/60 backdrop-blur-lg border-2 border-red-500/60 rounded-2xl py-4 px-8 inline-block shadow-2xl relative overflow-hidden">
                <!-- Status Bar Background Effect -->
                <div class="absolute inset-0 bg-gradient-to-r from-red-500/10 via-transparent to-red-500/10 animate-pulse"></div>
                
                <div class="relative z-10 flex items-center justify-center space-x-6 text-red-100">
                    <div class="flex items-center space-x-3 bg-green-900/30 px-4 py-2 rounded-xl border border-green-500/30">
                        <div class="relative">
                            <div class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
                            <div class="absolute inset-0 w-3 h-3 bg-green-400 rounded-full animate-ping opacity-30"></div>
                        </div>
                        <span class="text-sm font-bold text-green-200">Sistema Online</span>
                    </div>
                    
                    <div class="w-px h-6 bg-gradient-to-b from-transparent via-red-400/50 to-transparent"></div>
                    
                    <div class="flex items-center space-x-2 bg-yellow-900/30 px-4 py-2 rounded-xl border border-yellow-500/30">
                        <span class="text-yellow-300 text-lg">üîí</span>
                        <span class="text-sm font-bold text-yellow-200">Acesso Autorizado</span>
                    </div>
                    
                    <div class="w-px h-6 bg-gradient-to-b from-transparent via-red-400/50 to-transparent"></div>
                    
                    <div class="flex items-center space-x-2 bg-blue-900/30 px-4 py-2 rounded-xl border border-blue-500/30">
                        <span class="text-blue-300 text-lg">‚öñÔ∏è</span>
                        <span class="text-sm font-bold text-blue-200">Sistema Atualizado</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="max-w-6xl mx-auto grid lg:grid-cols-3 gap-6">
            <!-- Sele√ß√£o de Crimes -->
            <div class="bg-gradient-to-br from-black/90 to-red-900/20 backdrop-blur-lg rounded-2xl p-6 border-2 border-red-600/50 shadow-2xl relative overflow-hidden">
                <!-- Panel Header -->
                <div class="bg-gradient-to-r from-red-800/30 to-yellow-600/20 -mx-6 -mt-6 px-6 py-4 mb-6 border-b border-red-500/30">
                    <h2 class="text-2xl font-bold text-white flex items-center">
                        <span class="bg-red-600 p-2 rounded-lg mr-3 shadow-lg">‚öñÔ∏è</span>
                        Selecionar Crimes
                    </h2>
                </div>
                
                <!-- Busca -->
                <div class="mb-6">
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <span class="text-yellow-400 text-lg">üîç</span>
                        </div>
                        <input type="text" id="buscarCrime" class="w-full pl-12 pr-4 py-3 rounded-xl bg-gradient-to-r from-gray-900 to-black border-2 border-yellow-500/50 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all shadow-inner" placeholder="Buscar crime ou artigo...">
                        <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                            <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                        </div>
                    </div>
                </div>

                <!-- Categorias -->
                <div class="space-y-4">
                    <!-- Tr√¢nsito -->
                    <div class="bg-gradient-to-r from-red-900/30 to-yellow-900/20 border-2 border-red-600/40 rounded-xl p-4 shadow-lg hover:shadow-xl transition-all">
                        <h3 class="text-lg font-bold text-yellow-300 mb-3 cursor-pointer flex items-center justify-between hover:text-yellow-200 transition-colors" onclick="toggleCategoria('transito')">
                            <span class="flex items-center">
                                <span class="bg-yellow-600 p-2 rounded-lg mr-3 text-black shadow-md">üöó</span>
                                TR√ÇNSITO
                            </span>
                            <span id="arrow-transito" class="text-xl font-bold">‚ñº</span>
                        </h3>
                        <div id="categoria-transito" class="space-y-2 max-h-60 overflow-y-auto">
                            <!-- Crimes de tr√¢nsito ser√£o inseridos aqui -->
                        </div>
                    </div>

                    <!-- Crimes contra a Pessoa -->
                    <div class="bg-gradient-to-r from-red-900/40 to-red-800/20 border-2 border-red-500/50 rounded-xl p-4 shadow-lg hover:shadow-xl transition-all">
                        <h3 class="text-lg font-bold text-red-300 mb-3 cursor-pointer flex items-center justify-between hover:text-red-200 transition-colors" onclick="toggleCategoria('pessoa')">
                            <span class="flex items-center">
                                <span class="bg-red-600 p-2 rounded-lg mr-3 text-white shadow-md">üë§</span>
                                CRIMES CONTRA A PESSOA
                            </span>
                            <span id="arrow-pessoa" class="text-xl font-bold">‚ñº</span>
                        </h3>
                        <div id="categoria-pessoa" class="space-y-2 max-h-60 overflow-y-auto">
                            <!-- Crimes contra pessoa ser√£o inseridos aqui -->
                        </div>
                    </div>

                    <!-- Crimes contra o Patrim√¥nio -->
                    <div class="bg-gradient-to-r from-yellow-900/30 to-green-900/20 border-2 border-yellow-600/40 rounded-xl p-4 shadow-lg hover:shadow-xl transition-all">
                        <h3 class="text-lg font-bold text-yellow-300 mb-3 cursor-pointer flex items-center justify-between hover:text-yellow-200 transition-colors" onclick="toggleCategoria('patrimonio')">
                            <span class="flex items-center">
                                <span class="bg-yellow-600 p-2 rounded-lg mr-3 text-black shadow-md">üí∞</span>
                                CRIMES CONTRA O PATRIM√îNIO
                            </span>
                            <span id="arrow-patrimonio" class="text-xl font-bold">‚ñº</span>
                        </h3>
                        <div id="categoria-patrimonio" class="space-y-2 max-h-60 overflow-y-auto">
                            <!-- Crimes contra patrim√¥nio ser√£o inseridos aqui -->
                        </div>
                    </div>

                    <!-- Crimes contra a Ordem P√∫blica -->
                    <div class="bg-gradient-to-r from-purple-900/30 to-red-900/20 border-2 border-purple-600/40 rounded-xl p-4 shadow-lg hover:shadow-xl transition-all">
                        <h3 class="text-lg font-bold text-purple-300 mb-3 cursor-pointer flex items-center justify-between hover:text-purple-200 transition-colors" onclick="toggleCategoria('ordem')">
                            <span class="flex items-center">
                                <span class="bg-purple-600 p-2 rounded-lg mr-3 text-white shadow-md">üèõÔ∏è</span>
                                CRIMES CONTRA A ORDEM P√öBLICA
                            </span>
                            <span id="arrow-ordem" class="text-xl font-bold">‚ñº</span>
                        </h3>
                        <div id="categoria-ordem" class="space-y-2 max-h-60 overflow-y-auto">
                            <!-- Crimes contra ordem p√∫blica ser√£o inseridos aqui -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Crimes Selecionados e Redu√ß√µes -->
            <div class="bg-gradient-to-br from-black/90 to-yellow-900/20 backdrop-blur-lg rounded-2xl p-6 border-2 border-yellow-500/50 shadow-2xl relative overflow-hidden">
                <!-- Panel Header -->
                <div class="bg-gradient-to-r from-yellow-800/30 to-red-600/20 -mx-6 -mt-6 px-6 py-4 mb-6 border-b border-yellow-500/30">
                    <h2 class="text-2xl font-bold text-white flex items-center">
                        <span class="bg-yellow-600 p-2 rounded-lg mr-3 shadow-lg text-black">üìã</span>
                        Crimes Selecionados
                    </h2>
                </div>
                
                <!-- Lista de crimes selecionados -->
                <div id="crimesSelecionados" class="mb-6 space-y-2 max-h-40 overflow-y-auto">
                    <p class="text-white/60 text-sm">Nenhum crime selecionado</p>
                </div>

                <button onclick="limparCrimes()" class="w-full mb-6 bg-red-800/40 hover:bg-red-700/60 border-2 border-red-500 text-red-200 font-medium py-2 px-4 rounded-lg transition-all">
                    üóëÔ∏è Limpar Sele√ß√£o
                </button>

                <!-- Redu√ß√µes -->
                <div class="bg-gradient-to-r from-green-900/20 to-blue-900/20 rounded-xl p-4 mb-6 border border-green-500/30">
                    <h3 class="text-xl font-bold text-green-300 mb-4 flex items-center">
                        <span class="bg-green-600 p-2 rounded-lg mr-3 shadow-md text-white">üìâ</span>
                        Redu√ß√µes Aplic√°veis
                    </h3>
                
                    <div class="space-y-3">
                        <label class="flex items-center space-x-3 cursor-pointer bg-gray-800/30 p-3 rounded-lg hover:bg-gray-700/30 transition-all">
                            <input type="checkbox" id="advogado" class="w-5 h-5 rounded border-2 border-yellow-500/50 bg-gray-800 text-yellow-500 focus:ring-yellow-400">
                            <span class="text-white text-sm font-medium">‚öñÔ∏è Advogado presente (-10%)</span>
                        </label>
                        
                        <label class="flex items-center space-x-3 cursor-pointer bg-gray-800/30 p-3 rounded-lg hover:bg-gray-700/30 transition-all">
                            <input type="checkbox" id="primario" class="w-5 h-5 rounded border-2 border-yellow-500/50 bg-gray-800 text-yellow-500 focus:ring-yellow-400">
                            <span class="text-white text-sm font-medium">üÜï R√©u prim√°rio (-15%)</span>
                        </label>
                        
                        <label class="flex items-center space-x-3 cursor-pointer bg-gray-800/30 p-3 rounded-lg hover:bg-gray-700/30 transition-all">
                            <input type="checkbox" id="colaboracao" class="w-5 h-5 rounded border-2 border-yellow-500/50 bg-gray-800 text-yellow-500 focus:ring-yellow-400">
                            <span class="text-white text-sm font-medium">ü§ù Colabora√ß√£o (-20%)</span>
                        </label>
                        
                        <label class="flex items-center space-x-3 cursor-pointer bg-gray-800/30 p-3 rounded-lg hover:bg-gray-700/30 transition-all">
                            <input type="checkbox" id="bomComportamento" class="w-5 h-5 rounded border-2 border-yellow-500/50 bg-gray-800 text-yellow-500 focus:ring-yellow-400">
                            <span class="text-white text-sm font-medium">üòá Bom comportamento (-10%)</span>
                        </label>
                        
                        <label class="flex items-center space-x-3 cursor-pointer bg-gray-800/30 p-3 rounded-lg hover:bg-gray-700/30 transition-all">
                            <input type="checkbox" id="confissao" class="w-5 h-5 rounded border-2 border-yellow-500/50 bg-gray-800 text-yellow-500 focus:ring-yellow-400">
                            <span class="text-white text-sm font-medium">üí¨ Confiss√£o (-12%)</span>
                        </label>
                    </div>
                </div>

                <!-- Redu√ß√£o Personalizada -->
                <div class="mb-6">
                    <label class="block text-white font-medium mb-2">üéØ Redu√ß√£o Adicional (%)</label>
                    <input type="number" id="reducaoExtra" class="w-full px-3 py-2 rounded-lg bg-gray-900 border-2 border-yellow-500/50 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400" placeholder="Ex: 5" min="0" max="50">
                    <p class="text-yellow-300 text-xs mt-2">‚ö†Ô∏è Redu√ß√£o m√°xima permitida: 50%</p>
                </div>

                <button onclick="calcularPena()" class="w-full bg-gradient-to-r from-yellow-600 via-yellow-500 to-yellow-600 hover:from-yellow-500 hover:via-yellow-400 hover:to-yellow-500 text-black font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 border-3 border-yellow-400 shadow-2xl relative overflow-hidden group">
                    <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"></div>
                    <span class="relative z-10 text-lg">‚öñÔ∏è CALCULAR SENTEN√áA</span>
                </button>
            </div>

            <!-- Resultado -->
            <div class="bg-gradient-to-br from-black/90 to-red-900/20 backdrop-blur-lg rounded-2xl p-6 border-2 border-red-600/50 shadow-2xl relative overflow-hidden">
                <!-- Panel Header -->
                <div class="bg-gradient-to-r from-red-800/30 to-yellow-600/20 -mx-6 -mt-6 px-6 py-4 mb-6 border-b border-red-500/30">
                    <h2 class="text-2xl font-bold text-white flex items-center">
                        <span class="bg-red-600 p-2 rounded-lg mr-3 shadow-lg">üìä</span>
                        Resultado da Senten√ßa
                    </h2>
                </div>
                
                <div id="resultado" class="space-y-6">
                    <div class="text-center text-white/60 py-8">
                        <div class="text-6xl mb-4">‚öñÔ∏è</div>
                        <p>Preencha os dados ao lado para calcular a pena</p>
                    </div>
                </div>

                <!-- Hist√≥rico -->
                <div class="mt-8">
                    <h3 class="text-xl font-semibold text-white mb-4">üìú Hist√≥rico de C√°lculos</h3>
                    <div id="historico" class="space-y-2 max-h-60 overflow-y-auto">
                        <p class="text-white/60 text-sm">Nenhum c√°lculo realizado ainda</p>
                    </div>
                    <button onclick="limparHistorico()" class="mt-4 text-red-400 hover:text-red-300 text-sm underline">
                        üóëÔ∏è Limpar Hist√≥rico
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let historico = [];
        let crimesSelecionados = [];

        // Base de dados dos crimes
        const codigoPenal = {
            transito: [
                {artigo: "ART. 218", nome: "Alta Velocidade", servicos: 0, multa: 600, obs: "Limite de velocidade dentro da cidade de 120km/h e de ve√≠culos de grande porte, 90km/h. Aumenta-se R$ 25,00 a cada 20 km/h excedido."},
                {artigo: "ART. 175", nome: "Dire√ß√£o Perigosa", servicos: 0, multa: 2000, obs: "Uso negligente ou imprudente de um ve√≠culo"},
                {artigo: "ART. 181", nome: "Estacionar em local proibido", servicos: 0, multa: 650, obs: "Deixar o ve√≠culo em local indevido"},
                {artigo: "ART. 173", nome: "Disputar corrida", servicos: 0, multa: 650, obs: "Praticar rachas/corridas ilegais"},
                {artigo: "ART. 183", nome: "Avan√ßar sinal vermelho", servicos: 0, multa: 650, obs: "Insufilme, carro rebaixado"},
                {artigo: "ART. 181", nome: "Ve√≠culo Abandonado", servicos: 0, multa: 700, obs: "Abandonar ve√≠culo em local indevido"},
                {artigo: "ART. 176", nome: "Transitar na contram√£o", servicos: 0, multa: 600, obs: "Andar na via de m√£o contr√°ria"},
                {artigo: "ART. 304", nome: "Omiss√£o de Socorro", servicos: 0, multa: 650, obs: "Quando o causador do dano ou les√£o ao cidad√£o, abandona o local sem prestar socorro"},
                {artigo: "ART. 162", nome: "Falta de combust√≠vel", servicos: 0, multa: 150, obs: "Ter seu ve√≠culo imobilizado na via por falta de combust√≠vel"},
                {artigo: "ART. 162", nome: "Dirigir sem habilita√ß√£o", servicos: 0, multa: 150, obs: "Dirigir sem possuir habilita√ß√£o, podendo ser recolhida a aten√ß√£o do ve√≠culo"},
                {artigo: "ART. 210", nome: "Ultrapassar blitz", servicos: 0, multa: 850, obs: "Transpor, sem autoriza√ß√£o, bloqueio vi√°rio policial"},
                {artigo: "ART. 165-A", nome: "Recusar-se a ser submetido ao teste do baf√¥metro", servicos: 0, multa: 1000, obs: "Resist√™ncia para realizar o teste do baf√¥metro"},
                {artigo: "ART. 218", nome: "Seguir ve√≠culo policial que esteja em situa√ß√£o emergencial", servicos: 0, multa: 1000, obs: "Seguir viaturas em ocorr√™ncias, fugas ou socorro"},
                {artigo: "ART. 244", nome: "Conduzir motocicletas sem usar capacete", servicos: 0, multa: 1300, obs: "Trafegar com motos sem capacete"},
                {artigo: "ART. 194", nome: "Transitar de marcha r√©", servicos: 0, multa: 300, obs: "Ultrapassar faixa de reten√ß√£o para realizar manobra de ultrapassagem"},
                {artigo: "ART. 199", nome: "Ultrapassar pela direita", servicos: 0, multa: 1000, obs: "Utilizar a faixa da direita para realizar uma ultrapassagem"}
            ],
            pessoa: [
                {artigo: "Art.121", nome: "Homic√≠dio", servicos: 40, multa: 850, obs: "Matar algu√©m"},
                {artigo: "Art.121-A", nome: "Homic√≠dio de funcion√°rio p√∫blico", servicos: 60, multa: 3000, obs: "Matar funcion√°rio p√∫blico, durante a sua fun√ß√£o ou em raz√£o dela"},
                {artigo: "Art.121-B", nome: "Homic√≠dio culposo", servicos: 30, multa: 1500, obs: "Matar algu√©m em raz√£o de imprud√™ncia, neglig√™ncia ou imper√≠cia"},
                {artigo: "Art.129", nome: "Les√£o corporal", servicos: 3, multa: 550, obs: "Ofender a integridade f√≠sica ou sa√∫de de outrem"},
                {artigo: "Art.130", nome: "Cal√∫nia", servicos: 10, multa: 450, obs: "Imputar falsamente a algu√©m fato definido como crime"},
                {artigo: "Art.139", nome: "Difama√ß√£o", servicos: 10, multa: 450, obs: "Imputar fato ofensivo √† sua reputa√ß√£o alheia"},
                {artigo: "Art.147", nome: "Amea√ßa", servicos: 10, multa: 600, obs: "Amea√ßar algu√©m, por qualquer meio, de causar mal injusto e grave"},
                {artigo: "Art.148", nome: "Sequestro e c√°rcere privado", servicos: 40, multa: 1500, obs: "Privar algu√©m de sua liberdade, mediante sequestro ou c√°rcere privado"},
                {artigo: "Art.3", nome: "Genoc√≠dio", servicos: 60, multa: 3000, obs: "Praticar homic√≠dio doloso, direcionado por motivos de etnia ou condi√ß√£o do sexo feminino"},
                {artigo: "Art.129 III", nome: "Les√£o corporal seguida de morte", servicos: 30, multa: 1500, obs: "Ofender a integridade f√≠sica ou sa√∫de de outrem"},
                {artigo: "Art.287", nome: "Incita√ß√£o e/ou apologia ao crime", servicos: 25, multa: 850, obs: "Fazer apologia de fato criminoso ou de autor de crime, elogiar a pr√°tica de crimes"}
            ],
            patrimonio: [
                {artigo: "Art.155 I", nome: "Furto qualificado", servicos: 30, multa: 550, obs: "Subtrair, para si ou para outrem, coisa alheia m√≥vel"},
                {artigo: "Art.155", nome: "Furto", servicos: 25, multa: 350, obs: "Subtrair, para si ou para outrem, coisa alheia m√≥vel"},
                {artigo: "Art.157", nome: "Roubo", servicos: 40, multa: 750, obs: "Subtrair coisa alheia m√≥vel, para si ou para outrem, mediante viol√™ncia ou grave amea√ßa"},
                {artigo: "Art.157-B", nome: "Roubo seguido de morte (latroc√≠nio)", servicos: 50, multa: 1000, obs: "Subtrair coisa alheia m√≥vel, para si ou outrem, mediante viol√™ncia ou grave amea√ßa, com resultado morte"},
                {artigo: "Art.157 II", nome: "Roubo qualificado", servicos: 50, multa: 900, obs: "Apropriar-se de bens, valores ou dinheiro sob sua responsabilidade"},
                {artigo: "Art.171", nome: "Estelionato", servicos: 12, multa: 2500, obs: "Obter, para si ou outrem, vantagem il√≠cita, em preju√≠zo alheio, por meio de fraude, erro, artif√≠cio ou ardil"},
                {artigo: "Art.126", nome: "Desmonte de ve√≠culos", servicos: 10, multa: 2500, obs: "Adquirir, receber, transportar, desmontar, conduzir ou ocultar, automotor terrestre"},
                {artigo: "Art.180", nome: "Recep√ß√£o", servicos: 10, multa: 2500, obs: "Adquirir, receber, transportar, conduzir ou ocultar, em proveito pr√≥prio ou alheio, coisa que saiba ser produto de crime"}
            ],
            ordem: [
                {artigo: "Art.200-A", nome: "Roupas Policiais", servicos: 50, multa: 5000, obs: "Utilizar qualquer acess√≥rio ou roupa de uso exclusivamente policial"},
                {artigo: "Art.200-B", nome: "Roupas Militares", servicos: 50, multa: 5000, obs: "Utilizar qualquer acess√≥rio ou roupa de cunho militar (coletes, etc) em locais p√∫blicos como Hospital, Mec√¢nicas, Pra√ßa, Delegia"},
                {artigo: "Art.200-C", nome: "Oculta√ß√£o facial", servicos: 5, multa: 1000, obs: "Utilizar m√°scaras ou vestes que tampem o rosto em locais p√∫blicos como Hospital, Mec√¢nicas, Pra√ßa, Delegia"},
                {artigo: "Art.288", nome: "Produtos il√≠citos", servicos: 10, multa: 2000, obs: "Portar ou possuir objetos il√≠citos, conforme decreto judicial"},
                {artigo: "Art.288", nome: "Associa√ß√£o Criminosa", servicos: 15, multa: 2000, obs: "Associar-se em 03 ou mais pessoas, para o fim espec√≠fico de cometer crimes"},
                {artigo: "Art.289", nome: "Dinheiro il√≠cito", servicos: 18, multa: 1500, obs: "Portar dinheiro il√≠cito"},
                {artigo: "Art.299", nome: "Falsidade ideol√≥gica", servicos: 15, multa: 1750, obs: "Falsificar, no todo ou em parte, documento particular, ou alterar ou atestar vantagem ou prejudicar outrem"},
                {artigo: "Art.330", nome: "Desobedi√™ncia", servicos: 10, multa: 1500, obs: "Desacatar a ordem legal de funcion√°rio p√∫blico"},
                {artigo: "Art.331", nome: "Desacato", servicos: 12, multa: 1500, obs: "Desacatar funcion√°rio p√∫blico no exerc√≠cio da fun√ß√£o ou em raz√£o dela, com intuito de menosprez√°-lo"},
                {artigo: "Art.333", nome: "Corrup√ß√£o", servicos: 15, multa: 2500, obs: "Oferecer ou prometer vantagem indevida a funcion√°rio p√∫blico, em raz√£o da fun√ß√£o p√∫blica. Par√°grafo √∫nico: o fato constitui crime, salvo quando n√£o houver viola√ß√£o"},
                {artigo: "Art.337", nome: "Suborno", servicos: 25, multa: 2500, obs: "Obter, para si ou para outrem, vantagem indevida, em fun√ß√£o p√∫blica"},
                {artigo: "Art.339", nome: "Den√∫ncia caluniosa", servicos: 12, multa: 1750, obs: "Causar a instaura√ß√£o de investiga√ß√£o policial ou processo judicial, contra algu√©m, imputando-lhe crime de que sabe ser inocente"},
                {artigo: "Art.342", nome: "Falso testemunho", servicos: 10, multa: 1500, obs: "Fazer afirma√ß√£o falsa, negar ou calar verdade, na posi√ß√£o da testemunha"},
                {artigo: "Art.311", nome: "Uso de pessoas utilizando m√°scara", servicos: 12, multa: 2500, obs: "Utilizar m√°scara ou objetos por raz√µes de terrorismo contra √≥rg√£os p√∫blicos quando cometido com finalidade de terror"},
                {artigo: "Art.355", nome: "Abuso de autoridade", servicos: 12, multa: 5000, obs: "Abusar da posi√ß√£o p√∫blica, no intuito de obter vantagem ou promover injusto √† outrem, conforme decreto judicial"},
                {artigo: "Art.357", nome: "Obstru√ß√£o de Justi√ßa", servicos: 32, multa: 5000, obs: "Atrapalhar o andamento de instru√ß√£o processual ou de ordem judicial"},
                {artigo: "Art.16", nome: "Porte ou posse ilegal de arma classe 1", servicos: 14, multa: 2000, obs: "Porte ou posse ilegal de armamento semi-autom√°tico"},
                {artigo: "Art.17", nome: "Porte ou posse ilegal de arma classe 2", servicos: 14, multa: 3000, obs: "Porte ou posse ilegal de armamento autom√°tico"},
                {artigo: "Art.18", nome: "Tr√°fico de muni√ß√µes", servicos: 10, multa: 3500, obs: "Porte de m√∫ltiplas unidades, depender√° da comprova√ß√£o de dolo de comercializa√ß√£o/trafic√¢ncia para configurar o crime"},
                {artigo: "Art.19", nome: "Tr√°fico de armamento", servicos: 20, multa: 5000, obs: "Posse ou porte de 02 armamentos, impedindo-se o uso de ambos"},
                {artigo: "Art.33", nome: "Tr√°fico de drogas", servicos: 25, multa: 5000, obs: "Posse de mais de 02 entorpecentes, interditando-se o m√°ximo de 04 unidades"}
            ]
        };

        // Inicializar a aplica√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            carregarCrimes();
            configurarBusca();
        });

        function carregarCrimes() {
            // Carregar crimes de tr√¢nsito
            const transitoDiv = document.getElementById('categoria-transito');
            transitoDiv.innerHTML = codigoPenal.transito.map(crime => criarElementoCrime(crime, 'transito')).join('');

            // Carregar crimes contra a pessoa
            const pessoaDiv = document.getElementById('categoria-pessoa');
            pessoaDiv.innerHTML = codigoPenal.pessoa.map(crime => criarElementoCrime(crime, 'pessoa')).join('');

            // Carregar crimes contra o patrim√¥nio
            const patrimonioDiv = document.getElementById('categoria-patrimonio');
            patrimonioDiv.innerHTML = codigoPenal.patrimonio.map(crime => criarElementoCrime(crime, 'patrimonio')).join('');

            // Carregar crimes contra a ordem p√∫blica
            const ordemDiv = document.getElementById('categoria-ordem');
            ordemDiv.innerHTML = codigoPenal.ordem.map(crime => criarElementoCrime(crime, 'ordem')).join('');
        }

        function criarElementoCrime(crime, categoria) {
            const id = `${categoria}-${crime.artigo.replace(/[^a-zA-Z0-9]/g, '')}`;
            return `
                <div class="crime-item bg-gray-900/50 rounded-lg p-3 border border-red-600/30 hover:bg-red-900/20 hover:border-red-500/50 transition-all cursor-pointer" 
                     onclick="toggleCrime('${id}', ${JSON.stringify(crime).replace(/"/g, '&quot;')})">
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <div class="flex items-center space-x-2">
                                <input type="checkbox" id="${id}" class="w-4 h-4 rounded border-2 border-yellow-500/50 bg-gray-800 text-yellow-500">
                                <span class="text-white font-medium text-sm">${crime.artigo}</span>
                            </div>
                            <p class="text-white/80 text-sm mt-1">${crime.nome}</p>
                            <div class="flex space-x-4 mt-2 text-xs">
                                ${crime.servicos > 0 ? `<span class="text-red-300">‚è∞ ${crime.servicos} meses</span>` : ''}
                                <span class="text-yellow-300">üí∞ R$ ${crime.multa.toLocaleString('pt-BR')}</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function toggleCrime(id, crime) {
            const checkbox = document.getElementById(id);
            checkbox.checked = !checkbox.checked;
            
            if (checkbox.checked) {
                adicionarCrime(crime);
            } else {
                removerCrime(crime.artigo);
            }
            
            atualizarCrimesSelecionados();
        }

        function adicionarCrime(crime) {
            const existe = crimesSelecionados.find(c => c.artigo === crime.artigo && c.nome === crime.nome);
            if (!existe) {
                crimesSelecionados.push(crime);
            }
        }

        function removerCrime(artigo) {
            crimesSelecionados = crimesSelecionados.filter(c => c.artigo !== artigo);
        }

        function calcularPena() {
            if (crimesSelecionados.length === 0) {
                alert('‚ö†Ô∏è Por favor, selecione pelo menos um crime');
                return;
            }

            // Calcular totais
            let multaTotal = crimesSelecionados.reduce((total, crime) => total + crime.multa, 0);
            let tempoTotal = crimesSelecionados.reduce((total, crime) => total + crime.servicos, 0);

            // Calcular redu√ß√µes
            let reducaoTotal = 0;
            let reducoesList = [];

            if (document.getElementById('advogado').checked) {
                reducaoTotal += 10;
                reducoesList.push('Advogado presente (10%)');
            }
            
            if (document.getElementById('primario').checked) {
                reducaoTotal += 15;
                reducoesList.push('R√©u prim√°rio (15%)');
            }
            
            if (document.getElementById('colaboracao').checked) {
                reducaoTotal += 20;
                reducoesList.push('Colabora√ß√£o com a justi√ßa (20%)');
            }
            
            if (document.getElementById('bomComportamento').checked) {
                reducaoTotal += 10;
                reducoesList.push('Bom comportamento (10%)');
            }
            
            if (document.getElementById('confissao').checked) {
                reducaoTotal += 12;
                reducoesList.push('Confiss√£o espont√¢nea (12%)');
            }

            const reducaoExtra = parseFloat(document.getElementById('reducaoExtra').value) || 0;
            if (reducaoExtra > 0) {
                reducaoTotal += reducaoExtra;
                reducoesList.push(`Redu√ß√£o adicional (${reducaoExtra}%)`);
            }

            // Limitar redu√ß√£o m√°xima a 50%
            if (reducaoTotal > 50) {
                reducaoTotal = 50;
            }

            // Calcular valores finais
            const multaFinal = multaTotal * (1 - reducaoTotal / 100);
            const tempoFinal = tempoTotal * (1 - reducaoTotal / 100);

            // Exibir resultado
            exibirResultado(multaTotal, tempoTotal, multaFinal, tempoFinal, reducaoTotal, reducoesList);
            
            // Adicionar ao hist√≥rico
            adicionarAoHistorico(multaTotal, tempoTotal, multaFinal, tempoFinal, reducaoTotal);
        }

        function atualizarCrimesSelecionados() {
            const div = document.getElementById('crimesSelecionados');
            
            if (crimesSelecionados.length === 0) {
                div.innerHTML = '<p class="text-white/60 text-sm">Nenhum crime selecionado</p>';
                return;
            }
            
            div.innerHTML = crimesSelecionados.map(crime => `
                <div class="bg-white/5 rounded-lg p-2 border border-white/10">
                    <div class="flex justify-between items-center">
                        <div>
                            <span class="text-white font-medium text-sm">${crime.artigo}</span>
                            <p class="text-white/80 text-xs">${crime.nome}</p>
                            <div class="flex space-x-3 mt-1 text-xs">
                                ${crime.servicos > 0 ? `<span class="text-orange-300">‚è∞ ${crime.servicos}m</span>` : ''}
                                <span class="text-green-300">üí∞ R$ ${crime.multa.toLocaleString('pt-BR')}</span>
                            </div>
                        </div>
                        <button onclick="removerCrimeSelecionado('${crime.artigo}')" class="text-red-400 hover:text-red-300 text-xs">
                            ‚ùå
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function removerCrimeSelecionado(artigo) {
            // Desmarcar checkbox
            const allCheckboxes = document.querySelectorAll('input[type="checkbox"]');
            allCheckboxes.forEach(checkbox => {
                if (checkbox.id.includes(artigo.replace(/[^a-zA-Z0-9]/g, ''))) {
                    checkbox.checked = false;
                }
            });
            
            removerCrime(artigo);
            atualizarCrimesSelecionados();
        }

        function limparCrimes() {
            crimesSelecionados = [];
            // Desmarcar todos os checkboxes
            const allCheckboxes = document.querySelectorAll('input[type="checkbox"]');
            allCheckboxes.forEach(checkbox => {
                if (checkbox.id.includes('transito-') || checkbox.id.includes('pessoa-') || checkbox.id.includes('patrimonio-') || checkbox.id.includes('ordem-')) {
                    checkbox.checked = false;
                }
            });
            atualizarCrimesSelecionados();
        }

        function toggleCategoria(categoria) {
            const div = document.getElementById(`categoria-${categoria}`);
            const arrow = document.getElementById(`arrow-${categoria}`);
            
            if (div.style.display === 'none') {
                div.style.display = 'block';
                arrow.textContent = '‚ñº';
            } else {
                div.style.display = 'none';
                arrow.textContent = '‚ñ∂';
            }
        }

        function configurarBusca() {
            const busca = document.getElementById('buscarCrime');
            busca.addEventListener('input', function(e) {
                const termo = e.target.value.toLowerCase();
                const crimes = document.querySelectorAll('.crime-item');
                
                crimes.forEach(crime => {
                    const texto = crime.textContent.toLowerCase();
                    if (texto.includes(termo)) {
                        crime.style.display = 'block';
                    } else {
                        crime.style.display = 'none';
                    }
                });
            });
        }

        function exibirResultado(multaBase, tempoBase, multaFinal, tempoFinal, reducaoTotal, reducoesList) {
            const resultado = document.getElementById('resultado');
            
            resultado.innerHTML = `
                <div class="bg-green-500/20 border border-green-400/30 rounded-lg p-4 mb-4">
                    <h3 class="text-green-300 font-semibold mb-2">‚úÖ Senten√ßa Calculada</h3>
                    <div class="text-white space-y-1">
                        ${multaBase > 0 ? `<p><strong>üí∞ Multa:</strong> R$ ${multaFinal.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</p>` : ''}
                        ${tempoBase > 0 ? `<p><strong>‚è∞ Pris√£o:</strong> ${tempoFinal.toFixed(1)} meses</p>` : ''}
                        <p><strong>üìâ Redu√ß√£o Total:</strong> ${reducaoTotal}%</p>
                    </div>
                </div>

                <div class="bg-blue-500/20 border border-blue-400/30 rounded-lg p-4 mb-4">
                    <h4 class="text-blue-300 font-medium mb-2">üìã Crimes Aplicados</h4>
                    <div class="text-white text-sm space-y-1 max-h-32 overflow-y-auto">
                        ${crimesSelecionados.map(crime => `
                            <div class="flex justify-between">
                                <span>${crime.artigo} - ${crime.nome}</span>
                                <span class="text-green-300">R$ ${crime.multa.toLocaleString('pt-BR')} ${crime.servicos > 0 ? `| ${crime.servicos}m` : ''}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>

                ${multaBase > 0 ? `
                <div class="bg-purple-500/20 border border-purple-400/30 rounded-lg p-4 mb-4">
                    <h4 class="text-purple-300 font-medium mb-2">üí∞ Detalhes da Multa</h4>
                    <div class="text-white text-sm space-y-1">
                        <p>Valor original: R$ ${multaBase.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</p>
                        <p>Desconto aplicado: R$ ${(multaBase - multaFinal).toLocaleString('pt-BR', {minimumFractionDigits: 2})}</p>
                        <p class="font-semibold text-green-300">Valor final: R$ ${multaFinal.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</p>
                    </div>
                </div>
                ` : ''}

                ${tempoBase > 0 ? `
                <div class="bg-orange-500/20 border border-orange-400/30 rounded-lg p-4 mb-4">
                    <h4 class="text-orange-300 font-medium mb-2">‚è∞ Detalhes da Pris√£o</h4>
                    <div class="text-white text-sm space-y-1">
                        <p>Tempo original: ${tempoBase} meses</p>
                        <p>Redu√ß√£o aplicada: ${(tempoBase - tempoFinal).toFixed(1)} meses</p>
                        <p class="font-semibold text-green-300">Tempo final: ${tempoFinal.toFixed(1)} meses</p>
                    </div>
                </div>
                ` : ''}

                ${reducoesList.length > 0 ? `
                <div class="bg-yellow-500/20 border border-yellow-400/30 rounded-lg p-4">
                    <h4 class="text-yellow-300 font-medium mb-2">üìã Redu√ß√µes Aplicadas</h4>
                    <ul class="text-white text-sm space-y-1">
                        ${reducoesList.map(reducao => `<li>‚Ä¢ ${reducao}</li>`).join('')}
                    </ul>
                </div>
                ` : ''}
            `;
        }

        function adicionarAoHistorico(multaBase, tempoBase, multaFinal, tempoFinal, reducaoTotal) {
            const agora = new Date().toLocaleString('pt-BR');
            const crimesTexto = crimesSelecionados.map(c => c.artigo).join(', ');
            const item = {
                data: agora,
                crimes: crimesTexto,
                multaBase,
                tempoBase,
                multaFinal,
                tempoFinal,
                reducaoTotal
            };
            
            historico.unshift(item);
            if (historico.length > 10) historico.pop();
            
            atualizarHistorico();
        }

        function atualizarHistorico() {
            const historicoDiv = document.getElementById('historico');
            
            if (historico.length === 0) {
                historicoDiv.innerHTML = '<p class="text-white/60 text-sm">Nenhum c√°lculo realizado ainda</p>';
                return;
            }
            
            historicoDiv.innerHTML = historico.map(item => `
                <div class="bg-white/5 rounded-lg p-3 border border-white/10">
                    <div class="text-white/80 text-xs mb-1">${item.data}</div>
                    <div class="text-white/60 text-xs mb-1">${item.crimes}</div>
                    <div class="text-white text-sm">
                        ${item.multaBase > 0 ? `üí∞ R$ ${item.multaBase.toLocaleString('pt-BR')} ‚Üí R$ ${item.multaFinal.toLocaleString('pt-BR', {minimumFractionDigits: 2})}` : ''}
                        ${item.multaBase > 0 && item.tempoBase > 0 ? ' | ' : ''}
                        ${item.tempoBase > 0 ? `‚è∞ ${item.tempoBase}m ‚Üí ${item.tempoFinal.toFixed(1)}m` : ''}
                        <span class="text-green-300 ml-2">(-${item.reducaoTotal}%)</span>
                    </div>
                </div>
            `).join('');
        }

        function limparHistorico() {
            if (confirm('Tem certeza que deseja limpar o hist√≥rico?')) {
                historico = [];
                atualizarHistorico();
            }
        }

        // Auto-calcular quando houver mudan√ßas nas redu√ß√µes
        document.addEventListener('change', function(e) {
            if (e.target.type === 'checkbox' && !e.target.id.includes('transito-') && !e.target.id.includes('pessoa-') && !e.target.id.includes('patrimonio-') && !e.target.id.includes('ordem-')) {
                if (crimesSelecionados.length > 0) {
                    calcularPena();
                }
            }
        });

        document.addEventListener('input', function(e) {
            if (e.target.id === 'reducaoExtra') {
                clearTimeout(window.autoCalcTimer);
                window.autoCalcTimer = setTimeout(() => {
                    if (crimesSelecionados.length > 0) {
                        calcularPena();
                    }
                }, 1000);
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96a31e3a07666f83',t:'MTc1NDM2MzYwMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
